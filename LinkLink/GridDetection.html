<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Untitled Document</title>
</head>

<body>
	<canvas id="gameCanvas" width="485" height="575"></canvas>	
	<script type="text/javascript">
		(function(){
			var canvas = document.getElementById("gameCanvas");
			var ctx = canvas.getContext("2d");
			var grid = [
				[2,2,1,3,1],
				[0,1,2,1,1],
				[1,1,1,3,0],
				[0,3,2,0,1],
				[3,1,0,1,2]
			];
			var row = grid.length;	// Number of Rows
			var col = grid[0].length; // Numbers of Columns
			var width = canvas.width / col;	// Single Cell Width
			var height = canvas.height / row;	// Single Cell Height
			
			drawGrid();
			
			
			canvas.addEventListener("mousemove", function(e){
				var mousePos = getMousePos(canvas, e);
				mouseOnGrid(mousePos);
			}, false);
			
			function mouseOnGrid(mousePos){
				cellX = Math.floor(mousePos.x / width);
				cellY = Math.floor(mousePos.y / height);
				ctx.clearRect(0,0,canvas.width,canvas.height);
				drawGrid();
				ctx.clearRect(width*cellX,height*cellY,width,height);
				ctx.fillStyle = "green";
				ctx.fillRect(width*cellX,height*cellY,width,height);
				ctx.f
			}
			
			function getMousePos(canvas, evt) {
				var rect = canvas.getBoundingClientRect();
				return {
					x: evt.clientX - rect.left,
					y: evt.clientY - rect.top
				};
		  	}
			
			function drawGrid(){
				var currX, currY;
				
				// Draw colors
				currX = 0; currY =0;
				
				for (r=0; r<row; ++r){
					for (c=0; c<col; ++c){
						if (grid[c][r] > 0){
							switch (grid[c][r])
							{
								case 1: ctx.fillStyle = "yellow"; break;
								case 2: ctx.fillStyle = "purple"; break;
								case 3: ctx.fillStyle = "red"; break;
							}
							ctx.fillRect(width*r,height*c,width,height);
						}
					}
				}
				
				ctx.beginPath();
				// Draw vertical line
				currX = 0;
				for (c=0; c<col+2; ++c){
					ctx.moveTo(currX, 0);
					ctx.lineTo(currX, canvas.height);
					currX += width;
				}
				// Draw horizontal
				currY = 0;
				for (r=0; r<row+2; ++r){
					ctx.moveTo(0, currY);
					ctx.lineTo(canvas.width, currY);
					currY += height;
				}
				ctx.stroke();
				ctx.closePath();
			};
		}());
    </script>
</body>
</html>
